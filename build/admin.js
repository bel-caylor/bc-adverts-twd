document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("#bc-generate-image"),n=document.querySelector("#bc-image-output");t&&t.addEventListener("click",()=>{const r=document.querySelector(".ad-image").innerHTML;fetch(BCAdverts.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams({action:"bc_generate_advert_image",nonce:BCAdverts.nonce,html:r,post_id:BCAdverts.post_id})}).then(e=>e.json()).then(e=>{e.success?n.innerHTML=`<img src="${e.data.url}" style="max-width:100%;" />`:alert("Image generation failed: "+e.data.message)}).catch(e=>console.error("Error:",e))})});
