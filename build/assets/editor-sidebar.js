(()=>{"use strict";const e=window.wp.plugins,r=window.wp.editPost,t=window.wp.components,n=window.wp.data,o=window.ReactJSXRuntime;console.log("üü¢ Editor Sidebar Script Loaded"),(0,e.registerPlugin)("bc-adverts-sidebar-panel",{render:()=>{if(console.log("üìå BCAdvertsSidebarPanel is running"),"advert"!==(0,n.useSelect)((e=>e("core/editor").getCurrentPostType()),[]))return null;const e=document.querySelector(".ad-image")?.outerHTML||"<div>No .ad-image element found</div>",a=BCAdverts.post_id;return(0,o.jsx)(r.PluginDocumentSettingPanel,{name:"bc-adverts-panel",title:"BC Adverts Tools",children:(0,o.jsx)(t.Button,{isPrimary:!0,onClick:()=>{console.log(`üñºÔ∏è Generating image for post ID: ${a}`),fetch(BCAdverts.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"bc_generate_advert_image",nonce:BCAdverts.nonce,html:e,post_id:a})}).then((e=>e.json())).then((e=>{e.success?alert("‚úÖ Image created!"):alert("‚ùå Error: "+e.data.message)})).catch((e=>{console.error("‚ùå Error during image generation:",e),alert("‚ùå Unexpected error.")}))},children:"Generate Image"})})},icon:null})})();